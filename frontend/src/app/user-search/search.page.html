<!--HEADER-->
<ion-header>
    <ion-toolbar>
      <div class="ion-text-center">
        <img src="../../assets/main_logo.png" width="45%" style="padding-bottom: 1%;padding-top: 8%;">
        </div >
        <div style="text-align: center; font-size: 10pt;">
          Search
        </div>
  </ion-toolbar>
  </ion-header>
  
<ion-content >

<!-- SEARCHBAR -->  
<div style="margin-top:2%">
    <ion-searchbar animated (ionInput)="filterList($event)"></ion-searchbar>
</div>

<!-- MAP PLACEHOLDER -->
<agm-map 
[usePanning]="panning"
[fitBounds]="fitBounds"
id="map"
[zoom]="zoom"
[latitude]="latitude"
[longitude]="longitude" 
[mapDraggable]="false"
[disableDefaultUI]="true">

<agm-marker *ngFor="let establishment of establishments" (markerClick)="test(establishment)"
[agmFitBounds]="agmFitBounds"
[animation]="'DROP'"
[latitude]="establishment['latitude']" 
[longitude]="establishment['longitude']" 
[iconUrl]="$any(establishment['icon'])"
[label]="{color: 'black', text: establishment['name']}">
</agm-marker>

</agm-map>

<!-- NEARBY LOCATIONS -->
<div>
    <div>
    <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
        <ion-refresher-content></ion-refresher-content>
      </ion-refresher>
    </div>
    <ion-list>
        <ion-list-header><ion-label color="light" style="font-size: 12pt;">Nearby Locations</ion-label>></ion-list-header>
        <ion-item [@fade] *ngFor="let establishment of establishments"  slot="start" (click)="goLocation()"> 
            <ion-icon *ngIf="establishment.establishment_type == 'restaurant'" src="../../assets/location-sharp.svg" color="fupot_blue" style="padding-right: 5%;"></ion-icon>
            <ion-icon *ngIf="establishment.establishment_type == 'shopping'" src="../../assets/location-sharp.svg" color="fupot_pink" style="padding-right: 5%;"></ion-icon>
            <ion-icon *ngIf="establishment.establishment_type == 'dining'" src="../../assets/location-sharp.svg" color="fupot_teal" style="padding-right: 5%;"></ion-icon>
            <ion-icon *ngIf="establishment.establishment_type == 'bar'" src="../../assets/location-sharp.svg" color="fupot_purple" style="padding-right: 5%;"></ion-icon>
            <ion-label style="font-size: large;">{{establishment.name}}</ion-label>
            <ion-item lines="none"><ion-label>{{establishment.mile | number : '1.2-2'}} mi</ion-label></ion-item>
            <ion-icon src="../../assets/chevron-forward.svg"></ion-icon>
        </ion-item>

        <!-- <ion-item slot="start"> 
            <ion-icon src="../../assets/location-sharp.svg" color="fupot_pink" style="padding-right: 5%;"></ion-icon>
            <ion-label style="font-size: large;">Target</ion-label>
            <ion-item lines="none"><ion-label>4.2mi</ion-label></ion-item>
            <ion-icon src="../../assets/chevron-forward.svg"></ion-icon>
        </ion-item>

        <ion-item slot="start"> 
            <ion-icon src="../../assets/location-sharp.svg" color="fupot_teal" style="padding-right: 5%;"></ion-icon>
            <ion-label style="font-size: large;">Bowl America</ion-label>
            <ion-item lines="none"> <ion-label>5.3mi</ion-label></ion-item>
            <ion-icon src="../../assets/chevron-forward.svg"></ion-icon>
        </ion-item>

        <ion-item slot="start"> 
            <ion-icon src="../../assets/location-sharp.svg" color="fupot_pink" style="padding-right: 5%;"></ion-icon>
            <ion-label style="font-size: large;">Best Buy</ion-label>
            <ion-item lines="none"><ion-label>6.8mi</ion-label></ion-item>
            <ion-icon src="../../assets/chevron-forward.svg"></ion-icon>
        </ion-item>

        <ion-item slot="start"> 
            <ion-icon src="../../assets/location-sharp.svg" color="fupot_purple" style="padding-right: 5%;"></ion-icon>
            <ion-label style="font-size: large;">Pete's Bar</ion-label>
            <ion-item lines="none"><ion-label>7.2mi</ion-label></ion-item>
            <ion-icon src="../../assets/chevron-forward.svg"></ion-icon>
        </ion-item> -->

    </ion-list>
</div>

</ion-content>

